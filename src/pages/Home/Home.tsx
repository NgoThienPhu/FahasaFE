import React, { useState } from 'react'
import styles from './Home.module.css'
import { FaBook, FaShoppingCart } from 'react-icons/fa'

const Home: React.FC = () => {
    const [activeTab, setActiveTab] = useState('new')

    const tabs = [
        { id: 'new', label: 'S√°ch m·ªõi', icon: 'üÜï' },
        { id: 'bestseller', label: 'S√°ch b√°n ch·∫°y', icon: 'üî•' },
        { id: 'hot', label: 'S√°ch hot', icon: '‚≠ê' },
        { id: 'sale', label: 'Khuy·∫øn m√£i', icon: 'üí•' }
    ]

    const getBooksForTab = (tabId: string) => {
        const allBooks = [
            // S√°ch m·ªõi
            { id: 1, title: 'Nh√† Gi·∫£ Kim', author: 'Paulo Coelho', price: '89.000‚Ç´', rating: 4.7, cover: 'üåü', badge: 'M·ªõi', category: 'new', bookCategory: 'VƒÉn h·ªçc' },
            { id: 2, title: '7 Th√≥i Quen C·ªßa Ng∆∞·ªùi Th√†nh ƒê·∫°t', author: 'Stephen Covey', price: '110.000‚Ç´', rating: 4.8, cover: 'üéØ', badge: 'M·ªõi', category: 'new', bookCategory: 'K·ªπ nƒÉng s·ªëng' },
            { id: 3, title: 'T∆∞ Duy Nhanh V√† Ch·∫≠m', author: 'Daniel Kahneman', price: '130.000‚Ç´', rating: 4.7, cover: 'üöÄ', badge: 'M·ªõi', category: 'new', bookCategory: 'Khoa h·ªçc' },
            { id: 4, title: 'Sapiens', author: 'Yuval Noah Harari', price: '140.000‚Ç´', rating: 4.8, cover: 'üíé', badge: 'M·ªõi', category: 'new', bookCategory: 'L·ªãch s·ª≠' },
            { id: 5, title: 'T·ª´ T·ªët ƒê·∫øn Vƒ© ƒê·∫°i', author: 'Jim Collins', price: '125.000‚Ç´', rating: 4.7, cover: '‚≠ê', badge: 'M·ªõi', category: 'new', bookCategory: 'Kinh doanh' },
            { id: 6, title: 'Ngh·ªá Thu·∫≠t Tinh T·∫ø C·ªßa Vi·ªác ƒê·∫øch Quan T√¢m', author: 'Mark Manson', price: '85.000‚Ç´', rating: 4.5, cover: 'üé®', badge: 'M·ªõi', category: 'new', bookCategory: 'K·ªπ nƒÉng s·ªëng' },
            { id: 7, title: 'ƒê·∫Øc Nh√¢n T√¢m', author: 'Dale Carnegie', price: '95.000‚Ç´', rating: 4.8, cover: 'üìö', badge: 'M·ªõi', category: 'new', bookCategory: 'K·ªπ nƒÉng s·ªëng' },
            { id: 8, title: 'Atomic Habits', author: 'James Clear', price: '120.000‚Ç´', rating: 4.9, cover: 'üìñ', badge: 'M·ªõi', category: 'new', bookCategory: 'K·ªπ nƒÉng s·ªëng' },
            { id: 9, title: 'Rich Dad Poor Dad', author: 'Robert Kiyosaki', price: '100.000‚Ç´', rating: 4.6, cover: 'üî•', badge: 'M·ªõi', category: 'new', bookCategory: 'T√†i ch√≠nh' },
            { id: 10, title: 'Tu·ªïi Tr·∫ª ƒê√°ng Gi√° Bao Nhi√™u', author: 'Rosie Nguy·ªÖn', price: '75.000‚Ç´', rating: 4.6, cover: 'üí°', badge: 'M·ªõi', category: 'new', bookCategory: 'K·ªπ nƒÉng s·ªëng' },
            
            // S√°ch b√°n ch·∫°y
            { id: 11, title: 'ƒê·∫Øc Nh√¢n T√¢m', author: 'Dale Carnegie', price: '95.000‚Ç´', rating: 4.8, cover: 'üìö', badge: 'B√°n ch·∫°y', category: 'bestseller', bookCategory: 'K·ªπ nƒÉng s·ªëng' },
            { id: 12, title: 'Atomic Habits', author: 'James Clear', price: '120.000‚Ç´', rating: 4.9, cover: 'üìñ', badge: 'B√°n ch·∫°y', category: 'bestseller', bookCategory: 'K·ªπ nƒÉng s·ªëng' },
            { id: 13, title: 'Rich Dad Poor Dad', author: 'Robert Kiyosaki', price: '100.000‚Ç´', rating: 4.6, cover: 'üî•', badge: 'B√°n ch·∫°y', category: 'bestseller', bookCategory: 'T√†i ch√≠nh' },
            { id: 14, title: 'T∆∞ Duy Nhanh V√† Ch·∫≠m', author: 'Daniel Kahneman', price: '130.000‚Ç´', rating: 4.7, cover: 'üöÄ', badge: 'B√°n ch·∫°y', category: 'bestseller', bookCategory: 'Khoa h·ªçc' },
            { id: 15, title: 'Sapiens', author: 'Yuval Noah Harari', price: '140.000‚Ç´', rating: 4.8, cover: 'üíé', badge: 'B√°n ch·∫°y', category: 'bestseller', bookCategory: 'L·ªãch s·ª≠' },
            { id: 16, title: '7 Th√≥i Quen C·ªßa Ng∆∞·ªùi Th√†nh ƒê·∫°t', author: 'Stephen Covey', price: '110.000‚Ç´', rating: 4.8, cover: 'üéØ', badge: 'B√°n ch·∫°y', category: 'bestseller', bookCategory: 'K·ªπ nƒÉng s·ªëng' },
            { id: 17, title: 'T·ª´ T·ªët ƒê·∫øn Vƒ© ƒê·∫°i', author: 'Jim Collins', price: '125.000‚Ç´', rating: 4.7, cover: '‚≠ê', badge: 'B√°n ch·∫°y', category: 'bestseller', bookCategory: 'Kinh doanh' },
            { id: 18, title: 'Ngh·ªá Thu·∫≠t Tinh T·∫ø C·ªßa Vi·ªác ƒê·∫øch Quan T√¢m', author: 'Mark Manson', price: '85.000‚Ç´', rating: 4.5, cover: 'üé®', badge: 'B√°n ch·∫°y', category: 'bestseller', bookCategory: 'K·ªπ nƒÉng s·ªëng' },
            { id: 19, title: 'Tu·ªïi Tr·∫ª ƒê√°ng Gi√° Bao Nhi√™u', author: 'Rosie Nguy·ªÖn', price: '75.000‚Ç´', rating: 4.6, cover: 'üí°', badge: 'B√°n ch·∫°y', category: 'bestseller', bookCategory: 'K·ªπ nƒÉng s·ªëng' },
            { id: 20, title: 'Nh√† Gi·∫£ Kim', author: 'Paulo Coelho', price: '89.000‚Ç´', rating: 4.7, cover: 'üåü', badge: 'B√°n ch·∫°y', category: 'bestseller', bookCategory: 'VƒÉn h·ªçc' },
            
            // S√°ch hot
            { id: 21, title: 'Atomic Habits', author: 'James Clear', price: '120.000‚Ç´', rating: 4.9, cover: 'üìñ', badge: 'Hot', category: 'hot', bookCategory: 'K·ªπ nƒÉng s·ªëng' },
            { id: 22, title: 'Rich Dad Poor Dad', author: 'Robert Kiyosaki', price: '100.000‚Ç´', rating: 4.6, cover: 'üî•', badge: 'Hot', category: 'hot', bookCategory: 'T√†i ch√≠nh' },
            { id: 23, title: 'Sapiens', author: 'Yuval Noah Harari', price: '140.000‚Ç´', rating: 4.8, cover: 'üíé', badge: 'Hot', category: 'hot', bookCategory: 'L·ªãch s·ª≠' },
            { id: 24, title: 'T∆∞ Duy Nhanh V√† Ch·∫≠m', author: 'Daniel Kahneman', price: '130.000‚Ç´', rating: 4.7, cover: 'üöÄ', badge: 'Hot', category: 'hot', bookCategory: 'Khoa h·ªçc' },
            { id: 25, title: '7 Th√≥i Quen C·ªßa Ng∆∞·ªùi Th√†nh ƒê·∫°t', author: 'Stephen Covey', price: '110.000‚Ç´', rating: 4.8, cover: 'üéØ', badge: 'Hot', category: 'hot', bookCategory: 'K·ªπ nƒÉng s·ªëng' },
            { id: 26, title: 'ƒê·∫Øc Nh√¢n T√¢m', author: 'Dale Carnegie', price: '95.000‚Ç´', rating: 4.8, cover: 'üìö', badge: 'Hot', category: 'hot', bookCategory: 'K·ªπ nƒÉng s·ªëng' },
            { id: 27, title: 'T·ª´ T·ªët ƒê·∫øn Vƒ© ƒê·∫°i', author: 'Jim Collins', price: '125.000‚Ç´', rating: 4.7, cover: '‚≠ê', badge: 'Hot', category: 'hot', bookCategory: 'Kinh doanh' },
            { id: 28, title: 'Ngh·ªá Thu·∫≠t Tinh T·∫ø C·ªßa Vi·ªác ƒê·∫øch Quan T√¢m', author: 'Mark Manson', price: '85.000‚Ç´', rating: 4.5, cover: 'üé®', badge: 'Hot', category: 'hot', bookCategory: 'K·ªπ nƒÉng s·ªëng' },
            { id: 29, title: 'Tu·ªïi Tr·∫ª ƒê√°ng Gi√° Bao Nhi√™u', author: 'Rosie Nguy·ªÖn', price: '75.000‚Ç´', rating: 4.6, cover: 'üí°', badge: 'Hot', category: 'hot', bookCategory: 'K·ªπ nƒÉng s·ªëng' },
            { id: 30, title: 'Nh√† Gi·∫£ Kim', author: 'Paulo Coelho', price: '89.000‚Ç´', rating: 4.7, cover: 'üåü', badge: 'Hot', category: 'hot', bookCategory: 'VƒÉn h·ªçc' },
            
            // Khuy·∫øn m√£i
            { id: 31, title: 'Tu·ªïi Tr·∫ª ƒê√°ng Gi√° Bao Nhi√™u', author: 'Rosie Nguy·ªÖn', price: '75.000‚Ç´', rating: 4.6, cover: 'üí°', badge: 'Khuy·∫øn m√£i', category: 'sale', bookCategory: 'K·ªπ nƒÉng s·ªëng' },
            { id: 32, title: 'Sapiens', author: 'Yuval Noah Harari', price: '140.000‚Ç´', rating: 4.8, cover: 'üíé', badge: 'Khuy·∫øn m√£i', category: 'sale', bookCategory: 'L·ªãch s·ª≠' },
            { id: 33, title: 'T∆∞ Duy Nhanh V√† Ch·∫≠m', author: 'Daniel Kahneman', price: '130.000‚Ç´', rating: 4.7, cover: 'üöÄ', badge: 'Khuy·∫øn m√£i', category: 'sale', bookCategory: 'Khoa h·ªçc' },
            { id: 34, title: '7 Th√≥i Quen C·ªßa Ng∆∞·ªùi Th√†nh ƒê·∫°t', author: 'Stephen Covey', price: '110.000‚Ç´', rating: 4.8, cover: 'üéØ', badge: 'Khuy·∫øn m√£i', category: 'sale', bookCategory: 'K·ªπ nƒÉng s·ªëng' },
            { id: 35, title: 'Rich Dad Poor Dad', author: 'Robert Kiyosaki', price: '100.000‚Ç´', rating: 4.6, cover: 'üî•', badge: 'Khuy·∫øn m√£i', category: 'sale', bookCategory: 'T√†i ch√≠nh' },
            { id: 36, title: 'Atomic Habits', author: 'James Clear', price: '120.000‚Ç´', rating: 4.9, cover: 'üìñ', badge: 'Khuy·∫øn m√£i', category: 'sale', bookCategory: 'K·ªπ nƒÉng s·ªëng' },
            { id: 37, title: 'ƒê·∫Øc Nh√¢n T√¢m', author: 'Dale Carnegie', price: '95.000‚Ç´', rating: 4.8, cover: 'üìö', badge: 'Khuy·∫øn m√£i', category: 'sale', bookCategory: 'K·ªπ nƒÉng s·ªëng' },
            { id: 38, title: 'T·ª´ T·ªët ƒê·∫øn Vƒ© ƒê·∫°i', author: 'Jim Collins', price: '125.000‚Ç´', rating: 4.7, cover: '‚≠ê', badge: 'Khuy·∫øn m√£i', category: 'sale', bookCategory: 'Kinh doanh' },
            { id: 39, title: 'Ngh·ªá Thu·∫≠t Tinh T·∫ø C·ªßa Vi·ªác ƒê·∫øch Quan T√¢m', author: 'Mark Manson', price: '85.000‚Ç´', rating: 4.5, cover: 'üé®', badge: 'Khuy·∫øn m√£i', category: 'sale', bookCategory: 'K·ªπ nƒÉng s·ªëng' },
            { id: 40, title: 'Nh√† Gi·∫£ Kim', author: 'Paulo Coelho', price: '89.000‚Ç´', rating: 4.7, cover: 'üåü', badge: 'Khuy·∫øn m√£i', category: 'sale', bookCategory: 'VƒÉn h·ªçc' }
        ]
        
        return allBooks.filter(book => book.category === tabId).slice(0, 8)
    }

    return (
        <div className={styles.home}>
            <section className={styles.hero}>
                <div className={styles.heroContainer}>
                    <div className={styles.heroContent}>
                        <h1 className={styles.heroTitle}>
                            Kh√°m ph√° th·∫ø gi·ªõi s√°ch v·ªõi <span className={styles.highlight}>Fahasa</span>
                        </h1>
                        <p className={styles.heroDescription}>
                            H∆°n 100,000 ƒë·∫ßu s√°ch t·ª´ trong n∆∞·ªõc v√† qu·ªëc t·∫ø, vƒÉn ph√≤ng ph·∫©m ch·∫•t l∆∞·ª£ng cao
                            v√† ƒë·ªì ch∆°i gi√°o d·ª•c cho m·ªçi l·ª©a tu·ªïi.
                        </p>
                        <div className={styles.heroActions}>
                            <button className={`${styles.btn} ${styles.btnPrimary}`}>
                                <FaShoppingCart className={styles.btnIcon} />
                                Mua s·∫Øm ngay
                            </button>
                            <button className={`${styles.btn} ${styles.btnSecondary}`}>
                                <FaBook className={styles.btnIcon} />
                                Kh√°m ph√° s√°ch
                            </button>
                        </div>
                    </div>
                    <div className={styles.heroImage}>
                        <div className={styles.heroBooks}>
                            <div className={`${styles.book} ${styles.book1}`}></div>
                            <div className={`${styles.book} ${styles.book2}`}></div>
                            <div className={`${styles.book} ${styles.book3}`}></div>
                        </div>
                    </div>
                </div>
            </section>


            <section className={styles.featuredBooks}>
                <div className={styles.container}>
                    <div className={styles.tabContainer}>
                        <div className={styles.tabHeader}>
                            {tabs.map((tab) => (
                                <button
                                    key={tab.id}
                                    className={`${styles.tabButton} ${activeTab === tab.id ? styles.active : ''}`}
                                    onClick={() => setActiveTab(tab.id)}
                                >
                                    <span className={styles.tabIcon}>{tab.icon}</span>
                                    <span className={styles.tabLabel}>{tab.label}</span>
                                </button>
                            ))}
                        </div>
                        <a href="/products" className={styles.viewMoreLink}>
                            <span>Xem t·∫•t c·∫£</span>
                            <div className={styles.arrowIcon}>‚Üí</div>
                        </a>
                    </div>
                    <div className={styles.booksGrid}>
                        {getBooksForTab(activeTab).map((book) => (
                            <div key={book.id} className={styles.bookCard}>
                                <div className={styles.bookCover}>
                                    <div className={styles.coverIcon}>{book.cover}</div>
                                    <div className={styles.bookBadge}>{book.badge}</div>
                                </div>
                                <div className={styles.bookContent}>
                                    <h3 className={styles.bookTitle}>{book.title}</h3>
                                    <p className={styles.bookAuthor}>{book.author}</p>
                                    <p className={styles.bookCategory}>{book.bookCategory}</p>
                                    
                                    <div className={styles.bookRating}>
                                        <span className={styles.stars}>
                                            {'‚òÖ'.repeat(Math.floor(book.rating))}
                                            {'‚òÜ'.repeat(5 - Math.floor(book.rating))}
                                        </span>
                                        <span className={styles.ratingNumber}>({book.rating})</span>
                                    </div>

                                    <div className={styles.bookMeta}>
                                        <span className={styles.bookPrice}>{book.price}</span>
                                    </div>
                                    <button className={`${styles.btn} ${styles.btnPrimary} ${styles.addToCart}`}>
                                        <FaShoppingCart className={styles.btnIcon} /> Th√™m v√†o gi·ªè
                                    </button>
                                </div>
                            </div>
                        ))}
                    </div>
                    <div className={styles.categoryViewMore}>
                        <a href={`/products?category=${activeTab}`} className={styles.categoryViewMoreLink}>
                            <span>Xem th√™m {tabs.find(tab => tab.id === activeTab)?.label.toLowerCase()}</span>
                            <div className={styles.arrowIcon}>‚Üí</div>
                        </a>
                    </div>
                </div>
            </section>


            <section className={styles.newsletter}>
                <div className={styles.container}>
                    <div className={styles.newsletterContent}>
                        <h2 className={styles.newsletterTitle}>ƒêƒÉng k√Ω nh·∫≠n tin</h2>
                        <p className={styles.newsletterDescription}>
                            Nh·∫≠n th√¥ng tin v·ªÅ s√°ch m·ªõi, khuy·∫øn m√£i ƒë·∫∑c bi·ªát v√† ∆∞u ƒë√£i ƒë·ªôc quy·ªÅn
                        </p>
                        <div className={styles.newsletterForm}>
                            <input
                                type="email"
                                placeholder="Nh·∫≠p email c·ªßa b·∫°n"
                                className={styles.newsletterInput}
                            />
                            <button className={`${styles.btn} ${styles.btnPrimary}`}>ƒêƒÉng k√Ω</button>
                        </div>
                    </div>
                </div>
            </section>
        </div>
    )
}

export default Home
